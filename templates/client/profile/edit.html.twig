{% extends 'base.html.twig' %}
{% block title %}Modifier mon profil{% endblock %}

{% block body %}
<div class="container py-5">

  <div class="d-flex flex-wrap justify-content-between align-items-start gap-3 mb-4">
    <div>
      <h1 class="text-white fw-bold m-0">Modifier mon profil</h1>
      <div class="text-white-50 mt-2">
        Mets à jour tes informations personnelles.
      </div>
    </div>

    <a class="btn btn-outline-light rounded-pill px-4" href="{{ path('client_profile') }}">
      <i class="fas fa-arrow-left me-2"></i>Retour
    </a>
  </div>

  <div class="glass-panel p-4 p-md-5" style="border-radius: 22px;">
    <div class="row g-4 align-items-start">

      {# Col gauche : mini carte identité #}
      <div class="col-lg-4">
        <div class="premium-card p-4">
          <div class="d-flex align-items-center gap-3">
            <div class="premium-avatar">
              <span>{{ app.user.nom|slice(0,1)|upper }}</span>
            </div>
            <div>
              <div class="text-white fw-bold fs-5">{{ app.user.nom }}</div>
              <div class="text-white-50 small">{{ app.user.email }}</div>
            </div>
          </div>

          <div class="premium-divider my-3"></div>

          <div class="badge badge-soft d-inline-flex align-items-center gap-2">
            <i class="fas fa-shield-alt"></i>
            Compte sécurisé
          </div>

          <div class="text-white-50 small mt-3">
            Astuce : le changement de mot de passe aura une page dédiée plus tard.
          </div>
        </div>
      </div>

      {# Col droite : formulaire #}
      <div class="col-lg-8">
        <div class="premium-card p-4 p-md-5">
          <div class="mb-3">
            <div class="text-white fw-bold fs-4">Informations</div>
            <div class="text-white-50 small">
              Les champs marqués <span class="text-white fw-bold">*</span> sont obligatoires.
            </div>
          </div>

          {{ form_start(form) }}

          <div class="row g-3">
            <div class="col-md-6">
              {{ form_row(form.nom, {
                label: 'Nom *',
                label_attr: { class: 'form-label' },
                attr: { class: 'form-control', placeholder: 'Votre nom' }
              }) }}
            </div>

            <div class="col-md-6">
              {{ form_row(form.email, {
                label: 'Email *',
                label_attr: { class: 'form-label' },
                attr: { class: 'form-control', placeholder: 'ex: nom@email.com' }
              }) }}
            </div>

            <div class="col-12">
              {{ form_row(form.adresse, {
                label: 'Adresse *',
                label_attr: { class: 'form-label' },
                attr: { class: 'form-control', placeholder: 'Votre adresse' }
              }) }}
            </div>

            <div class="col-md-6">
              {{ form_row(form.numTeleph, {
                label: 'Téléphone *',
                label_attr: { class: 'form-label' },
                attr: { class: 'form-control', placeholder: 'Ex: 25000000' }
              }) }}
            </div>
          </div>

          <div class="premium-divider my-4"></div>

          <div class="d-flex flex-wrap justify-content-end gap-2">
            <a class="btn btn-outline-light rounded-pill px-4" href="{{ path('client_profile') }}">
              Annuler
            </a>
            <button class="btn-premium rounded-pill px-4" type="submit">
              <i class="fas fa-save"></i> Enregistrer
            </button>
          </div>

          {{ form_end(form) }}
        </div>
      </div>

    </div>
  </div>

</div>
{% endblock %}
